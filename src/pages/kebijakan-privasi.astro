---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import { getCollection } from 'astro:content';

// Try to fetch privacy policy page content from the pages collection
const allPages = await getCollection('pages');
const privacyPageContent = allPages.find(page => page.slug.includes('kebijakan-privasi'));
const data = privacyPageContent ? privacyPageContent.data : {
  judul: "Kebijakan Privasi",
  isiKebijakan: "",
  tanggalUpdate: "01 Januari 2025"
};
---
<Layout 
    title="Kebijakan Privasi | Website Dusun Bedalo"
    description="Pahami bagaimana kami mengumpulkan, menggunakan, dan melindungi data pribadi Anda."
>
    <Header currentPage="Kebijakan Privasi" />

    <main>
        <section class="bg-slate-700 text-white py-12">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl font-bold" data-aos="fade-down">{data.judul}</h1>
                <p class="mt-2 text-lg" data-aos="fade-up" data-aos-delay="100">Privasi dan keamanan data Anda adalah prioritas kami.</p>
            </div>
        </section>

        <section class="py-20">
            <div class="container mx-auto px-6 max-w-4xl">
                
                <div class="bg-white p-8 rounded-2xl shadow-lg mb-8" data-aos="fade-up">
                    <p class="text-center text-gray-500"><strong>Tanggal Efektif:</strong> {data.tanggalUpdate}</p>
                    <div class="mt-4 text-center text-lg text-gray-700 leading-relaxed" set:html={data.isiKebijakan} />
                </div>
            </div>
        </section>
    </main>
    <Footer />
</Layout>