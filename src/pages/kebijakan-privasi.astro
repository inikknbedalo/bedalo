---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import data from '../data/kebijakan-privasi.json';
---
<Layout 
    title="Kebijakan Privasi | Website Dusun Bedalo"
    description="Pahami bagaimana kami mengumpulkan, menggunakan, dan melindungi data pribadi Anda."
>
    <Header currentPage="Kebijakan Privasi" />

    <main>
        <section class="bg-slate-700 text-white py-12">
            <div class="container mx-auto px-6 text-center">
                <h1 class="text-4xl font-bold" data-aos="fade-down">{data.pageTitle}</h1>
                <p class="mt-2 text-lg" data-aos="fade-up" data-aos-delay="100">{data.pageSubtitle}</p>
            </div>
        </section>

        <section class="py-20">
            <div class="container mx-auto px-6 max-w-4xl">
                
                <div class="bg-white p-8 rounded-2xl shadow-lg mb-8" data-aos="fade-up">
                    <p class="text-center text-gray-500"><strong>Tanggal Efektif:</strong> {data.effectiveDate}</p>
                    <p class="mt-4 text-center text-lg text-gray-700 leading-relaxed" set:html={data.intro} />
                </div>

                <div class="space-y-8">
                    {data.sections.map((section, index) => {
                        // --- FIX: Added a check for section.items ---
                        if (section.type === 'grid' && section.items) {
                            return (
                                <div class="grid md:grid-cols-2 gap-8">
                                    {section.items.map((item, subIndex) => (
                                        <div class="bg-white p-8 rounded-2xl shadow-lg" data-aos="fade-up" data-aos-delay={300 + subIndex * 100}>
                                            <div class="flex items-start gap-4">
                                                <div class={`${item.iconBg} p-3 rounded-full`}>
                                                    <i class={item.icon}></i>
                                                </div>
                                                <div>
                                                    <h3 class="text-xl font-bold text-gray-800 mb-2">{item.title}</h3>
                                                    <p class="text-gray-700" set:html={item.content}></p>
                                                </div>
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            )
                        }
                        
                        return (
                            <div class="bg-white p-8 rounded-2xl shadow-lg" data-aos="fade-up" data-aos-delay={100 + index * 100}>
                                <div class="flex items-start gap-4">
                                    <div class={`${section.iconBg} p-3 rounded-full`}>
                                        <i class={section.icon}></i>
                                    </div>
                                    <div>
                                        <h2 class="text-2xl font-bold text-gray-800 mb-3">{section.title}</h2>
                                        {section.content && <p class="text-gray-700 mb-3" set:html={section.content}></p>}
                                        {section.listItems && (
                                            <ul class="list-disc list-inside space-y-2 text-gray-700">
                                                {section.listItems.map(item => <li>{item}</li>)}
                                            </ul>
                                        )}
                                        {section.footer && <p class="mt-4 text-gray-700" set:html={section.footer}></p>}
                                    </div>
                                </div>
                            </div>
                        )
                    })}
                </div>
            </div>
        </section>
    </main>
    <Footer />
</Layout>