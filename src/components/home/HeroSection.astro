---
import { Image } from 'astro:assets';
const { hero, allImages } = Astro.props;

// Find the image module from the glob using the filename in the JSON
const imagePath = Object.keys(allImages).find(path => path.endsWith(hero.image));
---
<section id="hero-section" class="relative h-[60vh] md:h-[80vh] bg-gray-800">
    {imagePath ? (
        <Image 
            src={allImages[imagePath]()} 
            alt={hero.imageAlt}
            widths={[480, 768, 1024, 1920]}
            sizes="(max-width: 768px) 100vw, 100vw"
            quality="high"
            class="absolute inset-0 w-full h-full object-cover"
        />
    ) : <div class="absolute inset-0 bg-gray-600"></div>}
    
    <div class="absolute bg-black bg-opacity-50 z-10"></div>

    <div class="container mx-auto px-6 relative z-20 flex flex-col justify-center items-center h-full text-white text-center">
        <h1 class="text-4xl md:text-6xl font-bold leading-tight mb-4" data-aos="fade-down">
            {hero.judul}
        </h1>
        <p class="text-lg md:text-xl max-w-3xl" data-aos="fade-up" data-aos-delay="200">
            {hero.subjudul}
        </p>
        <a href="#profil" class="mt-8 bg-blue-600 text-white px-8 py-3 rounded-full font-semibold hover:bg-blue-700 transition duration-300 transform hover:scale-105" data-aos="zoom-in" data-aos-delay="400">
            Jelajahi Sekarang
        </a>
    </div>
</section>